<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'css/index2-3.css'%}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <div class="menu">
        <div class="logo">
          <img src="{% static 'images/thermo1.png'%}" width="60px"  />
          <p><a href="{% url 'data'%}"><h2>.TempApp</h2></a></p>
        </div>
        <ul>
          <li><a href="{% url 'data'%}">Page d'acceuil</a></li>
          <li><a href="{% url 'data2'%}">Températures collectées </a></li>
          <li><a href="{% url 'data3'%}">Graphe</a></li><br>
          <li><a href="{% url 'historique'%}">Historique</a></li>
        </ul>
        <span>2022©Nousseiba Gaouche</span>
      </div>
      <div class="stats-container">
        <div class="graph-container">
          <h1 style="margin-bottom: 10px">Graphe :</h1>
          <div class="card-body">
<canvas id="myAreaChart" width="100%" height="40"></canvas>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
</div>

<script>
const dates = [{% for i in tab %} '{{i.dt}}', {% endfor %}];
const datas = [{% for i in tab %} '{{i.temp}}', {% endfor %}];
var ctx = document.getElementById('myAreaChart').getContext('2d');
var myChart = new Chart(ctx, {
type: 'line',
data: {
labels: dates,
scaleShowLabels : false,
datasets: [{
label: 'Temperature',
data:datas,
backgroundColor: [
'rgba(106,220,210,0.2)'
],

borderColor: [
'#cc0000',
],borderWidth:  2
}]
},
options: {
scales: {
yAxes: [{
ticks: {
beginAtZero: true
}
}]
}
}
});
</script>
        </div>
      </div>
    </div>
  </body>
</html>